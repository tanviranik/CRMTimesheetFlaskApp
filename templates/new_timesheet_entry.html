<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Time Sheet</title>    
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />    
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/jquery-ui.min.css" rel="stylesheet"/>
    <link href="css/site.css" rel="stylesheet" />
    <link href="css/animate.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <link href="css/clockpicker.css" rel="stylesheet">
</head>
<body>
    <div id="wrapper">
        <nav class="navbar-default navbar-static-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav metismenu" id="side-menu">
                    <li class="nav-header">
                        <div class="dropdown profile-element">
                            <span>
                                <img alt="image" class="img-circle" src="images/profile_small.jpg" />
                            </span>
                            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                <span class="clear">
                                    <span class="block m-t-xs">
                                        <strong class="font-bold">David Williams</strong>
                                    </span> <span class="text-muted text-xs block">Art Director <b class="caret"></b></span>
                                </span>
                            </a>
                            <ul class="dropdown-menu animated fadeInRight m-t-xs">
                                <li><a href="profile.html">Profile</a></li>
                                <li><a href="contacts.html">Contacts</a></li>
                                <li><a href="mailbox.html">Mailbox</a></li>
                                <li class="divider"></li>
                                <li><a href="login.html">Logout</a></li>
                            </ul>
                        </div>
                        <div class="logo-element">
                            <img alt="image" class="img-circle" src="images/hero-logo.png" width="35" height="35" />
                        </div>
                    </li>
                    <li>
                        <a href="index.html"><i class="fa fa-th-large"></i> <span class="nav-label">Dashboards</span></a>
                    </li>
                    <li class="carat-change">
                        <a href="#"><i class="fas fa-user-shield"></i> <span class="nav-label">Admin</span><i class="fas fa-chevron-left float-right"></i></a>
                        <ul class="nav nav-second-level collapse">
                            <li><a href="#">Employee</a></li>
                            <li><a href="#">User</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="timesheet.html"><i class="fas fa-calendar-alt"></i> <span class="nav-label">TimeSheet</span>  </a>
                    </li> 
                    <li class="special_link">
                        <a href="report.html"><i class="fa fa-database"></i> <span class="nav-label">Report</span></a>
                    </li>                    
                </ul>
                <div class="sidebar-toggler">
                    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-arrow-left"></i> </a>
                </div>        
            </div>
        </nav>
        <div id="page-wrapper" class="gray-bg dashbard-1">
            <div class="row border-bottom">
                <nav class="navbar navbar-fixed-top custom-nav-pad" role="navigation" style="margin-bottom: 0;">
                    <div class="navbar-header flex flex-start">
                        <!-- <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a> -->
                        <div class="m-auto page-title"> Time Sheet - Entry </div>
                    </div>
                    <ul class="nav navbar-top-links navbar-right">           
                        <li class="dropdown">
                            <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
                                <i class="fa fa-cog"></i>  <span class="label label-warning"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-messages">
                                <li>
                                    <div class="dropdown-messages-box">
                                        <a href="profile.html" class="pull-left">
                                            <img alt="image" class="img-circle" src="images/a7.jpg">
                                        </a>
                                        <div class="media-body">
                                            <small class="pull-right">46h ago</small>
                                            <strong>Mike Loreipsum</strong> started following <strong>Monica Smith</strong>. <br>
                                            <small class="text-muted">3 days ago at 7:58 pm - 10.06.2014</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="dropdown-messages-box">
                                        <a href="profile.html" class="pull-left">
                                            <img alt="image" class="img-circle" src="images/a4.jpg">
                                        </a>
                                        <div class="media-body ">
                                            <small class="pull-right text-navy">5h ago</small>
                                            <strong>Chris Johnatan Overtunk</strong> started following <strong>Monica Smith</strong>. <br>
                                            <small class="text-muted">Yesterday 1:21 pm - 11.06.2014</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="dropdown-messages-box">
                                        <a href="profile.html" class="pull-left">
                                            <img alt="image" class="img-circle" src="images/profile.jpg">
                                        </a>
                                        <div class="media-body ">
                                            <small class="pull-right">23h ago</small>
                                            <strong>Monica Smith</strong> love <strong>Kim Smith</strong>. <br>
                                            <small class="text-muted">2 days ago at 2:30 am - 11.06.2014</small>
                                        </div>
                                    </div>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="text-center link-block">
                                        <a href="mailbox.html">
                                            <i class="fa fa-envelope"></i> <strong>Read All Messages</strong>
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
                                <i class="fa fa-bell"></i>  <span class="label label-primary">8</span>
                            </a>
                            <ul class="dropdown-menu dropdown-alerts">
                                <li>
                                    <a href="mailbox.html">
                                        <div>
                                            <i class="fa fa-envelope fa-fw"></i> You have 16 messages
                                            <span class="pull-right text-muted small">4 minutes ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="profile.html">
                                        <div>
                                            <i class="fa fa-twitter fa-fw"></i> 3 New Followers
                                            <span class="pull-right text-muted small">12 minutes ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="grid_options.html">
                                        <div>
                                            <i class="fa fa-upload fa-fw"></i> Server Rebooted
                                            <span class="pull-right text-muted small">4 minutes ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <div class="text-center link-block">
                                        <a href="notifications.html">
                                            <strong>See All Alerts</strong>
                                            <i class="fa fa-angle-right"></i>
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </li>
            
            
                        <li>
                            <a href="login.html">
                                <i class="fas fa-sign-out-alt"></i>
                            </a>
                        </li>            
                    </ul>
                </nav>
            </div>
            <div class="row" >
                <div class="col-lg-12">
                    <div class="wrapper wrapper-content animated fadeInRight">
                        <div id="timesheet-entry" class="section-content">
                            <div class="ibox float-e-margins">
                                <div class="ibox-title">
                                    <h5>Time Sheet <small>New Entry</small></h5>                                    
                                </div>
                                <div class="ibox-content">
                                    <div class="form-horizontal">
                                        <div class="form-group"><label class="col-sm-2 control-label">Project *</label>
                                            <div class="col-sm-10">
                                                <input type="hidden" v-model="HourLogs.hourlog_id" />
                                                <input type="hidden" v-model="HourLogs.employee_id" />
                                                <select class="form-control m-b"  v-model="HourLogs.project_id">
                                                    <option value="">Select One</option>
                                                    <option value="1">Project 1</option>
                                                    <option value="2">Project 2</option>
                                                    <option value="3">Project 3</option>
                                                </select>
                                            </div>
                                        </div>                                        
                                        <div class="form-group"><label class="col-sm-2 control-label">Category *</label>
                                            <div class="col-sm-10">
                                                <select class="form-control m-b"  v-model="HourLogs.category_id">
                                                    <option value="">Select One</option>
                                                    <option value="1">Category 1</option>
                                                    <option value="2">Category 2</option>
                                                    <option value="3">Category 3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group"><label class="col-sm-2 control-label">Task *</label>
                                            <div class="col-sm-10">
                                                <select class="form-control m-b"  v-model="HourLogs.task_id">
                                                    <option value="">Select One</option>
                                                    <option value="1">Task 1</option>
                                                    <option value="2">Task 2</option>
                                                    <option value="3">Task 3</option>
                                                </select>
                                            </div>
                                        </div>                                        
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">Note</label>        
                                            <div class="col-sm-10">
                                                <textarea class="form-control" name="notes" rows="3" v-model="HourLogs.notes"></textarea>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed"></div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">Start Date</label>
                                            <div class="col-sm-2">
                                                <input type="text" id="StartDate" class="form-control" autocomplete="off"/>
                                            </div>
                                            <div class="col-sm-5 flex">
                                                <div id="clockStart" class="input-group clockpicker col-sm-4" data-autoclose="true">
                                                    <input type="text" id="startValue" class="form-control" value="00:00" >
                                                    <span class="input-group-addon">
                                                        <i class="far fa-clock"></i>
                                                    </span>
                                                </div>
                                                <label class="col-sm-1 control-label"> - </label>
                                                <div id="clockEnd" class="input-group clockpicker col-sm-4" data-autoclose="true">
                                                    <input type="text" id="endValue" class="form-control" value="00:00" >
                                                    <span class="input-group-addon">
                                                        <i class="far fa-clock"></i>
                                                    </span>
                                                </div>
                                            </div>
                                            <label class="col-sm-2">Total Hours : {{totalhour}}</label>
                                        </div>
                                        <div class="flex">
                                            <div class="col-md-2 text-right"><label>Required Items</label> </div>
                                            <div class="col-md-2"><label>Particular</label> </div>
                                            <div class="col-md-2"><label>Quantity</label> </div>
                                            <div class="col-md-2"><label>Unit</label> </div>
                                            <div class="col-md-1"><button @click="addInventory"><i class="fa fa-plus"></i></button></div>
                                        </div>
                                        <template v-for="(obj, index) in HourLogs.InventoryTracker">
                                            <div class="flex">
                                                <div class="col-md-2">&nbsp;</div>
                                                <div class="col-md-2">
                                                    <select v-model="obj.inventory_name" class="form-control">
                                                        <option v-for="(inv,ind) in inventorylist" :value="inv">{{inv}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <input type="text" v-model="obj.quantity" class="form-control" autocomplete="off"/>
                                                </div>
                                                <div class="col-md-2">
                                                    <select v-model="obj.unit" class="form-control">
                                                        <option v-for="(unit,ind) in unitlist" :value="unit" >{{unit}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </template>                                        
                                        <div class="hr-line-dashed"></div>
                                        <div class="form-group">
                                            <div class="col-sm-4 col-sm-offset-2">
                                                <button class="btn btn-primary" @click="SaveTimeSheet">Save changes</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>
                <div class="footer">
                    <div class="flex align-between flex-wrap">
                        <div>
                            <strong>Copyright</strong> AiDOM &copy; 2021-2022
                        </div>
                        <div>
                            version <strong> 2.1 </strong>.
                        </div>    
                    </div>
                </div>
            </div>
        </div>        
    </div>

    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
    <!-- jQuery UI CDN -->
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
    
    <script src="js/bootstrap.min.js"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="js/inspinia.js"></script>
    <script src="js/site.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/vuehelper.js"></script>
    <!-- Clock picker -->
    <script src="js/clockpicker.js"></script>
    <script>
        const timeentryapp = {
            data() {
                return {
                    pagetitle: '',                    
                    unitlist:['KG','Pound','Liter','Pieces'],
                    inventorylist: ['Tissue','Engine Oil','Brash','Towel','Bin','Soup','Detergent'],
                    HourLogs: {
                        hourlog_id: 0,
                        employee_id: 0,
                        task_id: 0,
                        category_id: 0,
                        project_id: 0,
                        notes: '',
                        insert_date: '',
                        entry_date: '',
                        start_time: '0:00',
                        end_time: '0:00',
                        total_hours: '0:00',
                        InventoryTracker:[{inventory_name: '',quantity: '',unit: '',hourlog_id:0}],
                        
                    }
                }
            },
            mounted: function () {
                let self = this;
                this.loadDefault();
                $("#StartDate").datepicker({
                    dateFormat: 'yy-mm-dd',
                    maxDate: "+0D",
                    onSelect: function (dateText, inst) {
                        // assign selected date
                        self.HourLogs.entry_date = dateText;
                    }
                });
                // $('#clockStart').clockpicker({
                //     autoclose: true,
                //     afterDone: function() {
                //         console.log(this.value);
                //     }
                // });
                $("#startValue").on('change', function(){
                     self.HourLogs.start_time = this.value;
                });
                $("#endValue").on('change', function(){
                    self.HourLogs.end_time = this.value;
                })
            },
            methods: {
                loadDefault() {
                    this.pagetitle = 'Time Sheet';
                },
                SaveTimeSheet(){
                    console.log(this.HourLogs);
                },
                addInventory(){                    
                    let newinventory = {inventory_name: '',quantity: '',unit: '',hourlog_id:0};
                    this.HourLogs.InventoryTracker.push(newinventory);
                }
            },
            computed: {
                // a computed getter
                totalhour() {
                    let self = this;
                    // `this` points to the vm instance
                    self.HourLogs.total_hours = calculatingWorkingHours(self.HourLogs.start_time, self.HourLogs.end_time)
                    return self.HourLogs.total_hours;
                }
            }
        }
        Vue.createApp(timeentryapp).mount('#timesheet-entry')
    </script>
</body>
</html>
